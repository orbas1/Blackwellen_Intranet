# Widget Functions — Version 1.50

| Widget | Description | Data Source | Personalisation Rules | Accessibility Notes |
| --- | --- | --- | --- | --- |
| KPI Snapshot | Displays top metrics with trend indicator and sparkline; supports dataset/timeframe/segment selectors and provenance tooltip. | Analytics service (`/api/v2/analytics/kpi-definitions`) | Shows KPIs relevant to user’s department and role; admins can pin global KPIs. | Provide textual summary for screen readers; sparkline hidden when high-contrast mode enabled. |
| Celebration Feed | Highlights birthdays, anniversaries, promotions with quick recognition actions. | HRIS event stream (`/api/v2/directory/celebrations`) | Prioritises direct reports and cross-functional squads; includes upcoming events for next 7 days. | Buttons sized 48px, includes `aria-live="polite"` updates for new events. |
| Knowledge Spotlight | Curated knowledge articles with AI summary and status badges (New, Updated, expiring). | Knowledge service (`/api/v2/knowledge/documents`) | Weighted by user’s recent searches, compliance obligations, and persona. | Ensure summary text truncated with ellipsis and `title` attribute for full content; accessible tags list. |
| Tasks & Approvals | Aggregated tasks from Service Hub, HR approvals, and workflows. | Workflow service (`/api/v2/service-hub/requests`, `/api/v2/service-hub/requests/{id}/approval`) | Prioritises overdue and high-SLA items; can filter by origin. | Keyboard shortcuts for accept/decline; focus states visible in all themes. |
| AI Insight Panel | Provides personalised suggestions, recommended actions, and flagged risks. | AI assistant (`/api/v2/analytics/events/stream`, AI service) | Learns from user behaviour; toggles for opting into categories (productivity, compliance, wellbeing). | Provide disclaimers for AI-generated content; ensure `aria-describedby` includes context message. |
| Quick Links | Customizable set of links to tools, documents, and services. | Configuration API (`/api/v2/dashboard/links`) | Pre-populated with role-specific defaults; users can pin/unpin items. | Manageable via keyboard reordering controls; ensures focus returns to trigger after editing. |
| Event Calendar | Upcoming meetings, company events, deadlines with RSVP buttons. | Calendar integration service (GraphQL). | Shows events for teams and company; user can subscribe to categories. | Calendar accessible in list view for screen readers; ensures date/time format localised. |
| Wellness Pulse | Displays sentiment trends, engagement scores, and recommended learning modules. | Analytics/HR wellness API. | Tailored by department engagement metrics; red flags escalate to managers. | Provide summary text alternative to charts; ensure colour-coded statuses accompanied by icons and text labels. |
| Alert Queue | Lists analytics anomalies with severity badge, impacted metric, and acknowledgement CTA. | Analytics alerts endpoint (`/api/v2/analytics/alerts`) | Defaults to team-specific alerts; executives can view organisation-wide with filter controls. | Acknowledgement buttons expose keyboard shortcuts; status updates announced via `aria-live`. |
| Security Posture Summary | Highlights OS patch compliance, encryption status, and device hygiene posture for selected segment. | Mobile security service (`/api/v2/mobile/security-posture`) | Persona determines default segment; managers can drill into team-level breakdowns. | Provide descriptive labels for gauges; include textual remediation guidance for colour-coded states. |
| Reporting Schedule Tracker | Shows active schedules with cadence, delivery channel, and pause/resume toggle. | Analytics schedule service (`/api/v2/analytics/schedules`) | Surface personal subscriptions first; admins can manage organisation templates with audit trail view. | Toggle confirms via dialog; ensure focus returns to trigger and state change announced for assistive tech. |

> **Update (06 May 2024)**: Widget interactions now emit telemetry events (`dashboard.widgets.loaded`, `dashboard.widgets.reordered`, `dashboard.manual-refresh`) and display offline provenance badges when the dashboard falls back to cached data. Personalisation drawer governs density, visibility, and quick action catalogues with accessibility announcements for reorder and toggle actions.
> **Update (09 May 2024)**: Analytics widgets now include acknowledgement workflows, schedule toggles, and security posture gauges; telemetry events (`analytics.alert.acknowledged`, `analytics.schedule.updated`, `analytics.security.drilldown`) captured with parity across web and mobile implementations.

> **Update (14 May 2024)**: Adaptive home widget grid now specifies ARIA labels, keyboard instructions, and offline narration hooks consumed by Playwright regression tests and VoiceOver/TalkBack hint libraries to guarantee parity between documented accessibility requirements and automation evidence.
